/***************************************************************************
 * Copyright (c) 2024 Energy Aware Runtime - Barcelona Supercomputing Center
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 **************************************************************************/

#ifndef CONFIG_INSTALLATION_H
#define CONFIG_INSTALLATION_H

// General
#define USE_GPUS              @FEAT_GPUS@
#define MAX_CPUS_SUPPORTED    384
#define MAX_SOCKETS_SUPPORTED 4
#define MAX_GPUS_SUPPORTED    8
#define EAR_GUI               1 // When defined, activates dynamic traces on EARL.

// Library
#define FEAT_ONLY_MASTER 0
#define ONLY_MASTER      (FEAT_ONLY_MASTER || !MPI)

// Database
#define DB_MYSQL  @FEAT_DB_MYSQL@
#define DB_PSQL   @FEAT_DB_PGSQL@
#define DB_IS(db) (db)
#define USE_DB    DB_MYSQL || DB_PSQL

// Scheduler
#define SCHED_SLURM     @FEAT_SCHED_SLURM@
#define SCHED_PBS       @FEAT_SCHED_PBS@
#define SCHED_OAR       @FEAT_SCHED_OAR@
#define SCHED_IS(sched) (sched)
#define USE_SCHED       SCHED_SLURM || SCHED_PBS || SCHED_OAR

// Others
#define RELEASE       "@PACKAGE_VERSION@"
#define VERSION_MAJOR @VERSION_MAJOR@
#define VERSION_MINOR @VERSION_MINOR@

// Legacy
#define EAR_INSTALL_PATH "@prefix@"
#define MPI_C_LIB_PATH   "lib/libear"

// DLB support
/* Defined to 1 if EAR is compiled with DLB support. */
#define DLB_SUPPORT @FEAT_DLB@
/* Defined to 1 if the <dlb_talp.h> header file is available to be included. */
#define HAVE_DLB_TALP_H @HAVE_DLB_TALP_H@

// Countdown support
/* Defined to the path of libcntd.so. Defined to 0 if EAR not configured with Countdown support. */
#define COUNTDOWN_BASE @LIBCOUNTDOWN_BASE@

#endif // CONFIG_INSTALLATION_H
